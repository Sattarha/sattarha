<!DOCTYPE html>

<html>
<head>
	<title>Google Books Search</title>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <h1 id="h1">Google book database</h1>
</head>
    <style>
    body{
        background-color:cornflowerblue;
        border: 1px solid black;
            
        }
        #h1{
            text-align: center;
        }
        #milestone{
            float: right;
        }
        #milestone:hover{
        text-transform: uppercase;
        font-size: 20px;
        font-weight: bold;
        transition: font-size .5s ease;
        }
        </style>
<body>
    <input placeholder="Type here..." id="search" autofocus="">
    
    <button>
    Click here! </button>

<div id="results" style="display: flex; flex-wrap: wrap;"></div>
    <h2>Here is your results:<span id="totalresults"></span>  
    
    </h2>
    

<script>

    
    $(document).ready(function(){
        $("ul").hide();
    });
        $("button").click(function(){
            $("ul").show();
                $(function(){
		          var term = document.getElementById('search').value; 
		          var parameter="?q="+term+"&startIndex=0&maxResults=20"; 
		          var service_point="https://www.googleapis.com/books/v1/volumes/"+parameter;
        $.getJSON(service_point, function (json)
        {
			console.log(json);
			var total=json.totalItems;
			$("#totalresults").text(total); 
			
			var resultHTML="";
			for (i in json.items)
			{
				var booktitle=json.items[i].volumeInfo.title;
				var bookid=json.items[i].id;
				var cover="";
				if (json.items[i].volumeInfo.imageLinks != null)
					cover=json.items[i].volumeInfo.imageLinks.smallThumbnail;

resultHTML+="<div class='bookdiv'><br>";
resultHTML+="<br><br><img src='"+cover+"' style='float: left'>";
resultHTML+="<a href='bookinfo.html?id="+bookid+"'><br>"+booktitle+"</a>";
resultHTML+="</div>";
			}
			$("#results").html(resultHTML); 
			$(".bookdiv").css("width", "300px");
		});
    });
  });
    

</script>
    <div id="Milestone">
<a href="Milestone2.html">Milestone 2</a>
        <br />
<a href="index.html">Home</a>
        </div>
</body>
</html>